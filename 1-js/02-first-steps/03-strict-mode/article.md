# الوضع الصارم: النمط الحديث لكتابة الشيفرات
تطورت لغة JavaScript خلال فترة طويلة دون أي مشاكل في التوافق. وجرى التحقق من استمرار عمل جميع وظائفها في كل مرة تضاف إليها خصائص جديدة.
 
وكان لذلك فائدة كبيرة في استمرار عمل الشيفرات البرمجية الموجودة دون تعطلها. ولكن كان له ناحية سلبية أيضًا، هي أنّ الأخطاء والخصائص التي أضافها مطورو اللغة بقيت مع اللغة إلى الأبد.
 
واستمرت هذا الحال حتى ظهور ECMAScript 5 (اختصارًا ES5) في عام 2009. التي أضافت خصائص جديدة إلى اللغة وعدّلت على بعض الخصائص الموجودة سابقًا. ولضمان استمرار عمل الشيفرات البرمجية السابقة، فإنّ معظم هذه التعديلات كانت غير فعّالة بشكل افتراضي؛ ولاستخدامها، عليك تفعيلها بشكل صريح باستخدام الموجه الخاص: `"use strict"`.
 
## الموجه `"use strict"`
يبدو الموجه كسلسلة نصية: `"use-strict"` أو `'use strict'`. وعندما يوضع في بداية السكربت، يعمل السكربت حسب النمط والطريقة الحالية.

إليك المثال التالي:
 
```
"use strict";
//هذه الشيفرة البرمجية تعمل في الوضع الصارم
…
```
 
قريبًا، سندرس الدوال (طريقة لجمع الأوامر). ولكن في نطرة استباقية للموضوع، لاحظ أنه بالإمكان وضع `"use strict"` في بداية معظم أنواع الدوال عوضًا عن كامل السكربت. وبذلك يتم تفعيل الوضع الصارم (strict mode) ضمن الدوال فقط. لكن عادةً يستخدم المبرمجون هذا الوضع لكامل السكربت.
 
تأكد من وضع `"use script"` في بداية السكربتات، وإلا فإنه من الممكن ألا يُفعَّل الوضع الصارم.
فمثلًا، الوضع الصارم غير مفعّل في المثال التالي:
 
```
alert("some code");
// إن لم يُستعمَل في أول سطر "use strict" سيجري تجاهل الموجه
"use strict"
// الوضع الصارم غير مُفعَّل
```
 
بإمكانك كتابة التعليقات فقط قبل استخدام الموجه `"use strict"`. 
لاحظ أيضًا أنه ليس هناك طريقة لإلغاء `"use strict"`، أي لا يوجد موجه آخر مثل `"no use strict"` والذي يثني المحرك عن عمله ويلغي تفعيل الوضع الصارم. لذلك عند بدء استخدام الوضع الصارم، لا توجد طريقة لإلغائه والعودة إلى الوضع الافتراضي.
 
## طرفية المتصفح
أبقِ في ذهنك أن طرفية المتصفح (console) لا تستخدم الوضع الصارم لاختبار وتنفيذ الشيفرات المكتوبة فيها؛ أي أنها لا تستخدم `"use strict"` افتراضيًا.
 
عندما يوجد هناك اختلاف بين `"use strict"` والنمط الافتراضي في بعض الأحيان، قد تحصل على ناتج خطأ. ولن تنجح محاولتك في تفعيل الوضع الصارم (strict) بالضغط على الاختصار Shift+Enter لإدخال عدة أسطر، ثم استخدام `"use strict"` في البداية وذلك بسبب طريقة معالجة الطرفية للشيفرة البرمجية داخليًا.
 
الطريقة الأفضل للتأكد من عمل `"use strict"` هو كتابة الشيفرة البرمجية ضمن الطرفية كما يلي:
 
```
(function() {
'use strict';
// … ضع شيفرتك هنا …
})()
```
 
## استخدم "use strict" دومًا
سنتعلم لاحقًا الاختلافات بين الوضع الصارم والوضع الافتراضي الذي تعمل ضمنه الشيفرات. ففي الفصل القادم، ستلاحظ الاختلافات بين هذين الوضعين أثناء تعلمك للخصائص الجديدة. من الجيد أنه لا يوجد الكثير من هذه الاختلافات، وفي حال وجودها فهي لتحسين عمل الشيفرة البرمجية. ولكن في الوقت الحالي تكفي معرفتك بهذه الأمور العامة:
 
1. الموجه `"use strict"` يحول المحرك إلى النمط الحديث (modern)، مما يغير من طريقة تعامله مع بعض الخصائص الموجودة سابقًا. سندرس ذلك بالتفصيل في الأجزاء القادمة من هذه السلسلة التعليمية.
2. يتم تفعيل الوضع الصارم بوضع الموجه `"use strict"` في بداية السكربت أو الدالة. العديد من خصائص اللغة، مثل الأصناف (classes) والوحدات (modules)، ُتفعِّل الوضع الصارم (strict) تلقائيًا.
3. الوضع الصارم (strict) مدعوم من قبل جميع المتصفحات الحالية.
4. أنصحك دائمًا بوضع `"use strict"` في بداية السكربت. جميع الأمثلة في هذه السلسلة التعليمية تفترض العمل ضمن الوضع الصارم إلا إذا ذُكر غير ذلك وهذا في بعض الحالات النادرة.

ترجمة -وبتصرف- للفصل [Modern mode, "use strict"](https://javascript.info/use-strict) من كتاب [The JavaScript Language](https://javascript.info/js)
